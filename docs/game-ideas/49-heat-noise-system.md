# Awesome Idea: The Heat & Noise System

## Concept

This system introduces two invisible resources that the player manages in hostile territory: **Noise** and **Heat**. Every action, from swinging a sword to casting a powerful spell, generates a certain amount of these resources. Noise attracts local patrols, while Heat builds the attention of the dungeon's ultimate master. This creates a fascinating tension between efficiency and stealth, forcing the player to constantly weigh the consequences of their actions.

## Core Mechanics

### 1. Noise: The Local Threat

*   **Generation:**
    *   `Moving quickly:` Generates low Noise.
    *   `Melee combat:` Generates moderate Noise.
    *   `Using a loud weapon (like a warhammer):` Generates high Noise.
    *   `Casting a flashy spell (like Fireball):` Generates very high Noise.
    *   `Mining a rock wall:` Generates sustained, high Noise.
*   **Effect:**
    *   Noise dissipates relatively quickly over time.
    *   It spreads out from the player in a radius.
    *   If the Noise radius overlaps with a nearby, un-alerted patrol of enemies, that patrol will move to investigate the source of the sound.
*   **Gameplay:** This makes players think about their immediate surroundings. A loud fight in one room might pull in enemies from the next two rooms, quickly turning a manageable encounter into an overwhelming one.

### 2. Heat: The Global Threat

*   **Generation:**
    *   Heat is generated by significant actions that alter the state of the dungeon.
    *   `Killing an enemy patrol:` Generates low Heat.
    *   `Defeating an elite enemy or mini-boss:` Generates moderate Heat.
    *   `Using a powerful ritual or explosive:` Generates high Heat.
    *   `Looting a sacred treasure:` Generates very high Heat.
*   **Effect:**
    *   Heat does **not** dissipate quickly. It represents the dungeon's overall "alert level" to your presence.
    *   As the Heat meter for the dungeon fills up, it triggers escalating consequences.
*   **Heat Levels:**
    *   **Level 1 (Cool):** Standard enemy patrols.
    *   **Level 2 (Warm):** Patrols become more frequent and slightly larger.
    *   **Level 3 (Hot):** Elite enemies are added to standard patrols.
    *   **Level 4 (Scorching):** The **Dungeon Warden** is dispatched.

### 3. The Dungeon Warden

*   The Warden is a powerful, often terrifying, semi-invincible enemy that acts as the dungeon's immune system.
*   When the Heat level gets high enough, the Warden spawns and begins actively hunting the player.
*   It cannot be killed, only driven off by dealing a certain amount of damage, which causes it to retreat and de-spawn for a while.
*   The Warden's presence completely changes the gameplay from a standard dungeon crawl to a tense game of cat-and-mouse.

## Gameplay & Narrative Impact

*   **Meaningful Choices:** Every action has a potential consequence. Is it worth using that loud Fireball to end this fight quickly if it might attract a nearby patrol? Is looting that treasure worth increasing the Heat and risking a visit from the Warden?
*   **Creates a Dynamic Difficulty Curve:** The game naturally gets harder as the player becomes more disruptive. This provides a soft-timer that prevents players from safely grinding in one area for too long.
*   **Stealth as a Viable Strategy:** This system makes a stealthy playstyle (using quiet weapons, avoiding large fights) a powerful and valid way to play the game.
*   **Tension and Dread:** The slow, inexorable rise of the Heat meter creates a fantastic sense of mounting dread. The first time the player hears the distant roar of the Warden, they will know true fear.

## Implementation Sketch

*   **Data:**
    *   The `Player` entity has a `Noise` component that is constantly updated and dissipates.
    *   The `Dungeon` entity has a `Heat` component.
    *   `actions.toml`: Each ability/action has a `noise_generated` and `heat_generated` value.
*   **Systems:**
    *   The `NoiseSystem` updates the player's noise level and checks for intersections with nearby enemy patrols.
    *   The `HeatSystem` adds heat to the dungeon's total and checks if a new Heat Level threshold has been crossed.
    *   If `Heat Level 4` is reached, it triggers the `WardenSpawnSystem`.
*   **UI:** The UI for this system should be subtle. Noise could be a small, pulsating ring around the player on the minimap. Heat could be a bar that slowly fills up, or a border around the screen that subtly changes color from cool blue to fiery red.
